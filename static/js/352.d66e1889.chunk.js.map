{"version":3,"file":"static/js/352.d66e1889.chunk.js","mappings":"8IACA,QAAuI,oC,+BCuEvI,MAmEA,EAnEiBA,KACf,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,IACpCG,EAAKC,IAAUJ,EAAAA,EAAAA,UAAS,OACxBK,EAAeC,IAAoBN,EAAAA,EAAAA,UAAS,KAC5CO,EAAcC,IAAmBR,EAAAA,EAAAA,UAAS,IA6CjD,OAnCAS,EAAAA,EAAAA,WAAU,MAeRC,EAAAA,EAAAA,MACGC,KAAMC,IACAA,GAAwB,IAAhBA,EAAKC,OAGhBd,EAASa,GAFTR,EAAO,yBAKVU,MAAOX,GAAQC,EAAOD,EAAIY,UAC1BC,QAAQ,IAAMd,GAAa,KAC7B,KACHO,EAAAA,EAAAA,WAAU,KACR,MAAMQ,EAAmBnB,EAAMoB,OAAQpB,GAC9BA,EAAMc,KAAKO,MAAMC,oBAAoBC,SAASd,IAEvDD,EAAiBW,IAChB,CAACV,EAAcT,IAClBwB,QAAQC,IAAI,qBAAsBzB,GAClCwB,QAAQC,IAAI,kBAAmBlB,IAG7BmB,EAAAA,EAAAA,MAACC,EAAAA,SAAQ,CAAAC,SAAA,EACPF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,eACNC,EAAAA,EAAAA,KAAA,SACEC,UAAWC,EACXC,KAAK,SACLC,SA/CuBC,IAC7B,MAAMC,EAAkBD,EAAME,OAAOC,MAAMf,oBAC3CZ,EAAgByB,IA8CVG,YAAY,uBAGfnC,IAAa0B,EAAAA,EAAAA,KAAA,KAAAD,SAAG,eAChBvB,IAAOwB,EAAAA,EAAAA,KAAA,KAAAD,SAAIvB,IACXL,IAAS6B,EAAAA,EAAAA,KAACU,EAAAA,EAAS,CAACvC,MAAOO,O","sources":["webpack://cool-blog/./src/pages/post-page.style.module.css?d7ba","pages/post-page.component.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"bookmark-icon\":\"post-page_style_bookmark-icon__o+9I1\",\"heading-ele\":\"post-page_style_heading-ele__6QeX0\",\"filter-box\":\"post-page_style_filter-box__lLg8s\"};","/*\r\nimport classes from \"./post-page.style.module.css\";\r\nconst PostPages = (props) => {\r\n  return (\r\n    <div>\r\n      {props.posts.map((post) => (\r\n        <h1 key={post.slug} className={classes[\"heading-ele\"]}>\r\n          {post.title}\r\n        </h1>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\nexport default PostPages;\r\n//using fragment to return elements without adding extra nodes\r\n\r\nmport { Fragment } from \"react\";\r\n\r\n \r\n\r\nconst PostsPage = (props) => {\r\n\r\n  return (\r\n\r\n    <Fragment>\r\n\r\n      {props.posts.map(post => <h1 key={post.slug}>{post.title}</h1>)}\r\n\r\n    </Fragment>\r\n    );\r\n\r\n}\r\n\r\n \r\n\r\nexport default PostsPage;\r\n\r\nExample 2:\r\n\r\nimport { Fragment } from \"react\";\r\n\r\n \r\n\r\nconst Heading = () => {\r\n\r\n  return (\r\n\r\n    <Fragment>\r\n\r\n      <h1>Welcome to my React app!</h1>\r\n\r\n      <p>Learning React is easy. Just follow me!</p>\r\n\r\n    </Fragment>\r\n\r\n  );\r\n\r\n}\r\n\r\n \r\n\r\nexport default Heading;\r\n*/\r\n\r\n// Route and Link\r\nimport { useState, useEffect, Fragment } from \"react\";\r\nimport classes from \"./post-page.style.module.css\";\r\n//import { useFetch } from \"../hooks/useFetch\";\r\nimport { getAllPosts } from \"../utils/firebase.utils\";\r\nimport { PostsGrid } from \"../components/post/post-grid.component\";\r\n//import { data } from \"react-router-dom\";\r\n\r\nconst PostPage = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [isPending, setIsPending] = useState(true);\r\n  const [err, setErr] = useState(null);\r\n  const [filteredPosts, setFilteredPosts] = useState([]);\r\n  const [searchString, setSearchString] = useState(\"\");\r\n\r\n  /*  const url = \"/posts.json\";\r\n  const { data: postsData, isPending, error } = useFetch(url); */\r\n\r\n  const onSearchChangeHandler = (event) => {\r\n    const newSearchString = event.target.value.toLocaleLowerCase();\r\n    setSearchString(newSearchString);\r\n  };\r\n\r\n  useEffect(() => {\r\n    /* if (!postsData) {\r\n      return;\r\n    }\r\n    fetch(\"/posts.json\") //later chapters\r\n      .then((response) => response.json())\r\n      .then((data) => setPosts(data));\r\n    const newFilteredPosts = postsData.filter((post) => {\r\n      return post.title.toLocaleLowerCase().includes(searchString);\r\n    });\r\n    /* useEffect(() => {\r\n    const newFilteredPosts = posts.filter((post) => {\r\n      return post.title.toLocaleLowerCase().includes(searchString);\r\n    });\r\n    setFilteredPosts(newFilteredPosts);*/\r\n    getAllPosts()\r\n      .then((data) => {\r\n        if (!data || data.length === 0) {\r\n          setErr(\"Loading data Failed\");\r\n        } else {\r\n          setPosts(data);\r\n        }\r\n      })\r\n      .catch((err) => setErr(err.message))\r\n      .finally(() => setIsPending(false));\r\n  }, []);\r\n  useEffect(() => {\r\n    const newFilteredPosts = posts.filter((posts) => {\r\n      return posts.data.title.toLocaleLowerCase().includes(searchString);\r\n    });\r\n    setFilteredPosts(newFilteredPosts);\r\n  }, [searchString, posts]);\r\n  console.log(\"All posts fetched:\", posts);\r\n  console.log(\"Filtered posts:\", filteredPosts);\r\n\r\n  return (\r\n    <Fragment>\r\n      <h1>\r\n        <span>All Posts</span>\r\n        <input\r\n          className={classes[\"filter-box\"]}\r\n          type=\"search\"\r\n          onChange={onSearchChangeHandler}\r\n          placeholder=\"filter by title\"\r\n        />\r\n      </h1>\r\n      {isPending && <p>Loading...</p>}\r\n      {err && <p>{err}</p>}\r\n      {posts && <PostsGrid posts={filteredPosts} />}\r\n    </Fragment>\r\n  );\r\n};\r\nexport default PostPage;\r\n"],"names":["PostPage","posts","setPosts","useState","isPending","setIsPending","err","setErr","filteredPosts","setFilteredPosts","searchString","setSearchString","useEffect","getAllPosts","then","data","length","catch","message","finally","newFilteredPosts","filter","title","toLocaleLowerCase","includes","console","log","_jsxs","Fragment","children","_jsx","className","classes","type","onChange","event","newSearchString","target","value","placeholder","PostsGrid"],"sourceRoot":""}